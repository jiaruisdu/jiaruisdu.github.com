<!DOCTYPE HTML>
<html>
	<head>

		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />

		<script src="js/jquery.min.js"></script>
		<script src="js/jquery.scrollzer.min.js"></script>
		<script src="js/jquery.scrolly.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>

	</head>
	<body>
		<div id="wrapper">

			<!-- Header -->
				<section id="header" class="skel-layers-fixed">
					<header>
						<span class="image me"><img src="images/me.jpg" alt="" /></span>
						<h1 id="logo"><a href="#">贾睿</a></h1>
						<p>“这个人没有座右铭”</p>
					</header>
					
					<p></p>
					
					<nav id="nav">
						<ul>
							<li><a href="#one" class="active">关于我</a></li>
							<li><a href="#two">我对CG的理解</a></li>
							<li><a href="#three">我的任务</a></li>
							<li><a href="#four">联系方式</a></li>
						</ul>
					</nav>
					
				</section>

			<!-- Main -->
				<div id="main">

					<!-- One -->
						<section id="one">
							<div class="container">
								<header class="major">
									<h2>这</h2>
									<p>只是一个简单的个人主页 。</p>
								</header>
								<p>我是一个好人，很好很好的人，因为我选了图形学这门课。</p>
							</div>
						</section>
						
					<!-- Two -->
						<section id="two">
							<div class="container">
								<h3>关于CG</h3>
								<p>我觉得CG是让我们接受一个新的内容的开始，一个好的CG可以让我们对它的主体充满兴趣，一个差的CG会让我直接忽视其内容的存在。我也希望自己可以通过图形学的学习，让自己变成一个富有图形学色彩的人。</p>
							
							</div>
						</section>
                       
						
					<!-- Three -->
						<section id="three">
							<div class="container">
								<h3>我的任务</h3>
								<p>以下是我的图形学课程的课程任务：</p>
								<div class="features">
									<article>
									
										
											<h4>任务一：行走的小人（OpenGL实现）</h4>
											
												<p>实验完成中遇到的问题和解决办法：</p>
												<p>1、选定腰部节点为根节点。这样可以使小人的上半身和下半身按照相同的运动函数进行移动。</p>
												<p>2、绘制立方体和圆柱体。小人的躯干采用长方体实现，而四肢采用圆柱体，不仅可以良好的区分两部分，更符合人体的圆柱形手臂摆动规律。</p>
												<p>3、移动函数的构造。因为小人是有大臂和小臂的，在大臂摆动的同时，小臂要实时更新肘关节位置以保证手臂不散架，并且两个臂的摆动频率应相同，而腿部的运动也具有相同的特点。</p>
												<p>4、整体的平移。为了让小人走起来，在函数实现时，应先移动坐标轴（矩阵点）然后再绘制身体各部分，四肢的移动也应在整体前进的函数之后实现。</p>
												<p>5、调试。对视角的选定、窗口大小、小人运动方向以及速度等因素，应不断调试以达到最佳效果。</p>
											
												<img src="images/1.gif" width="322px" height="337px" />
											
										
									</article>
									<article>
										
										<h4>任务二：1° 光线追踪（OpenGL实现）</h4>
											
												<p>实验操作步骤：</p>
												<p>1、学会使用OpenGL库中的光线追踪函数。</p>
												<p>2、设置环境光，漫反射光，镜面光以及反射光指数。</p>
												<p>3、设置灯源位置和光源散布角度。</p>
												<p>4、调试。对视角的选定、窗口大小、大小和颜色等因素，应不断调试以达到最佳效果。</p>
												
											
										<img src="images/1.jpg" width="502px" height="540px" />
										
										<h4>2° Gouraud shading的代码实现（MFC实现）</h4>
											
												<p>实验完成中遇到的问题和解决办法：</p>
												<p>1、初始化。设置不同的位置和RPG值的斜率参数。</p>
												<p>2、判断三角形顶点位置。获取最左上角三角形顶点位置，并按照从宽到窄的方向绘制扫描线。</p>
												<p>3、绘制扫描线。对三个定点的位置和RPG值进行纵向插值，每次的纵向插值过程中再进行横向插值，使颜色过渡自然。</p>
												<p>4、调用上述函数。改写View.cpp中的OnDraw()，绘制三角形轮廓，对顶点填充不同颜色，调用函数进行Gouraud shading渲染。</p>
												<p>5、调试。对窗口大小、三角形大小以及各顶点颜色等因素进行调试，以达到最佳效果。</p>
											
												<img src="images/2.jpg" width="949px" height="509px" />
										
									</article>
									<article>
										
										
											<h4>任务三：Final Project</h4>
											
												<p>1、实验要求不使用自带的光线追踪函数，因此我自己写了一些基本的ray-tracing方法，并利用这些方法对简单物体进行光线追踪</p>
												<pre><code>
												
//L 入射光,R 反射光,N 法向量,V 视点方向，H L和V的角平分线
Point L,R,N,V,H,I;
L = (info.intersection_point - ray).normal();
N = (info.norm).normal();
R = (Point::reflection(L,N)).normal();
V = (info.start - info.intersection_point).normal();
I = intensity;

if (!environment_light_only)
	//color = color + Color(suc_mul(I,mod->material->ka)); 
//else
color = color + Color(suc_mul(Settings::surrounding_light,mod->material->ka)) 
	+ Color(suc_mul(I,mod->material->ks)*pow(dot(R,V),mod->material->n)) 
	+ Color(suc_mul(I,mod->material->kd)*dot(-1*L,N));
else
	color = color +Color(suc_mul(Settings::surrounding_light,mod->material->ka));
												
														
												</code></pre>
											
												<p>2、根据上一次做简单ray-tracing的经验，我将上一个任务的光线计算方法运用在这一次实验中，具体方法可见上一个实验。</p>
												
												<p>3、构造场景。在场景中我们画出地板，左侧墙壁，并在地板上绘制出一些不同大小和颜色的小球与长方体，然后利用ray-tracing和shading方法对他们进行再绘制。
													<pre><code>
/***   生成红色长方体   ***/
Model* arectangle = new Model();	//新建矩形模型
Material * arectangle_mat = new Material(0,0,Point(0,0,0),Point(0,0,0));	//矩形材质
General_model * arectangle_geo = new General_model();
arectangle_mat->inital(Point(0.1,0.1,0.1),Point(0,0.3,0.4),Point(0.2,0.1,0.5),3);	//初始化
//添加矩形的8个顶点
arectangle_geo->add_vertex(Point(0,13000,0));
arectangle_geo->add_vertex(Point(3000,13000,0));
arectangle_geo->add_vertex(Point(3000,16000,0));
arectangle_geo->add_vertex(Point(0,16000,0));
arectangle_geo->add_vertex(Point(0,13000,3000));
arectangle_geo->add_vertex(Point(3000,13000,3000));
arectangle_geo->add_vertex(Point(3000,16000,3000));
arectangle_geo->add_vertex(Point(0,16000,3000));
//根据顶点添加表面
arectangle_geo->add_face(0,1,2);
arectangle_geo->add_face(0,2,3);
arectangle_geo->add_face(0,1,5);
arectangle_geo->add_face(0,5,4);
arectangle_geo->add_face(1,2,6);
arectangle_geo->add_face(1,6,5);
arectangle_geo->add_face(4,5,6);
arectangle_geo->add_face(4,6,7);
//构建几何形状
arectangle->add_geometry(arectangle_geo);
//构造表面材质
arectangle->add_material(arectangle_mat);
//初始化
arectangle->geometry->inital();
//在屏幕中加载
scene->add_model(arectangle);
													</code></pre>
													
													<pre><code>
//进行ray-tracing
raySource->inital(Point(12000,0,8000));
//初始化相机位置
camera->initalize(Point(15000,0,2500),Point(-1,2,0),Point(0,0,1),Settings::scLen,Settings::scWid,100);
													</code></pre>
													
													<pre><code>
//对camera进行设置
camera->pixmap = pixmap;
camera->scene = scene;
camera->screen = screen;	
													</code></pre>
													
													<code><pre>
//对场景进行ray-tracing
scene->add_raySource(raySource);
scene->add_illumin(illumin);
camera->castLight();
camera->pixmap->show();
													</pre></code>
												</p>	
												
										
										
									</article>
								</div>
							</div>
						</section>
						
					<!-- Four -->
						<section id="four">
							<div class="container">
								<h3>我的联系方式</h3>
								<p>QQ：596356873</p>
								<p>TEL:17865169889</p>
								<p>Email:596356873@qq.com</p>
							
							</div>
						</section>
				
					
					
				
				</div>

			<!-- Footer -->
				<section id="footer">
					<div class="container">
						<ul class="copyright">
							<li></li>
						</ul>
					</div>
				</section>
			
		</div>
	</body>
</html>
